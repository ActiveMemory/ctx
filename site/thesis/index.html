
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="ctx provides temporal continuity across sessions">
      
      
        <meta name="author" content="Jose Alekhinne <alekhinejose@gmail.com>">
      
      
        <link rel="canonical" href="https://ctx.ist/thesis/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../home/">
      
      
        
      
      
      <link rel="icon" href="../images/favicon-32.png">
      <meta name="generator" content="zensical-0.0.20">
    
    
      
        <title>The Thesis - ctx: do you remember?</title>
      
    
    
      
        
      
      <link rel="stylesheet" href="../assets/stylesheets/modern/main.d4922b3c.min.css">
      
        
          
        
        <link rel="stylesheet" href="../assets/stylesheets/modern/palette.dfe2e883.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,500,500i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0),__md_get=(e,t=localStorage,a=__md_scope)=>JSON.parse(t.getItem(a.pathname+"."+e)),__md_set=(e,t,a=localStorage,_=__md_scope)=>{try{a.setItem(_.pathname+"."+e,JSON.stringify(t))}catch(e){}},document.documentElement.setAttribute("data-platform",navigator.platform)</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#context-as-state" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ctx: do you remember?" class="md-header__button md-logo" aria-label="ctx: do you remember?" data-md-component="logo">
      
  <img src="../images/ctx-favicon-32.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-menu" viewBox="0 0 24 24"><path d="M4 5h16M4 12h16M4 19h16"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ctx: do you remember?
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The Thesis
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sun" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="none" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-moon" viewBox="0 0 24 24"><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-search" viewBox="0 0 24 24"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog" aria-label="Search">
  <button type="button" class="md-search__button">
    Search
  </button>
</div>
      
    
    <div class="md-header__source">
      
        <a href="https://github.com/ActiveMemory/ctx" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ActiveMemory/ctx
  </div>
</a>
      
    </div>
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  Manifesto

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  The Thesis

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../home/" class="md-tabs__link">
          
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../blog/" class="md-tabs__link">
          
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../recipes/guide-your-agent/" class="md-tabs__link">
          
  
  Recipes

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cli/" class="md-tabs__link">
          
  
  CLI

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../reference/" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../operations/" class="md-tabs__link">
          
  
  Operations

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../security/" class="md-tabs__link">
          
  
  Security

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ctx: do you remember?" class="md-nav__button md-logo" aria-label="ctx: do you remember?" data-md-component="logo">
      
  <img src="../images/ctx-favicon-32.png" alt="logo">

    </a>
    ctx: do you remember?
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ActiveMemory/ctx" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    ActiveMemory/ctx
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-flame" viewBox="0 0 24 24"><path d="M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4"/></svg>
  
  <span class="md-ellipsis">
    
  
    Manifesto
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-scroll-text" viewBox="0 0 24 24"><path d="M15 12h-5M15 8h-5M19 17V5a2 2 0 0 0-2-2H4"/><path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"/></svg>
  
  <span class="md-ellipsis">
    
  
    The Thesis
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-scroll-text" viewBox="0 0 24 24"><path d="M15 12h-5M15 8h-5M19 17V5a2 2 0 0 0-2-2H4"/><path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"/></svg>
  
  <span class="md-ellipsis">
    
  
    The Thesis
  

    
  </span>
  
  

      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-persistence-layer-for-human-ai-cognition" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Persistence Layer for Human-AI Cognition
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A Persistence Layer for Human-AI Cognition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstract" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abstract
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Introduction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-the-limits-of-prompt-time-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. The Limits of Prompt-Time Context
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. The Limits of Prompt-Time Context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-non-reproducibility" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Non-Reproducibility
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-opaque-knowledge" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Opaque Knowledge
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-loss-of-intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Loss of Intent
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-cognitive-state-a-three-tier-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Cognitive State: A Three-Tier Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Cognitive State: A Three-Tier Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Definitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-separation-of-concerns" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Separation of Concerns
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-design-invariants" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Design Invariants
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Design Invariants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invariant-1-markdown-on-filesystem-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 1: Markdown-on-Filesystem Persistence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-2-zero-runtime-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 2: Zero Runtime Dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-3-deterministic-context-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 3: Deterministic Context Assembly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-4-human-authority-over-persistent-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 4: Human Authority Over Persistent State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-5-local-first-air-gap-capable" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 5: Local-First, Air-Gap Capable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-6-no-default-telemetry" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 6: No Default Telemetry
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-landscape-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Landscape Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Landscape Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-primitive-taxonomy" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Primitive Taxonomy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-comparison-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Comparison Matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-convergent-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Convergent Patterns
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-worked-example-architectural-decision-under-two-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Worked Example: Architectural Decision Under Two Models
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Worked Example: Architectural Decision Under Two Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-the-problem" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 The Problem
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-prompt-time-retrieval-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Prompt-Time Retrieval Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-cognitive-state-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Cognitive State Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-the-diff-when-policy-changes" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 The Diff When Policy Changes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-experience-report-a-system-that-designed-itself" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Experience Report: A System That Designed Itself
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Experience Report: A System That Designed Itself">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-scale-and-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Scale and Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-architectural-reversals" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Architectural Reversals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-compliance-ceiling" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 Compliance Ceiling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-compounding-returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 Compounding Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75-scope-and-generalizability" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.5 Scope and Generalizability
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-situating-the-persistence-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Situating the Persistence Layer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-applicability-and-trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Applicability and Trade-Offs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Applicability and Trade-Offs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-when-to-use-this-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 When to Use This Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-when-not-to-use-this-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 When Not to Use This Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-incremental-adoption" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3 Incremental Adoption
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-the-curation-cost" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.4 The Curation Cost
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-future-work" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Future Work
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Conclusion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-representative-rejection-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix A: Representative Rejection Decisions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../home/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-home" viewBox="0 0 24 24"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"/><path d="M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/about/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-info" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
  
  <span class="md-ellipsis">
    
  
    About
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/is-ctx-right/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-compass" viewBox="0 0 24 24"><path d="m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z"/><circle cx="12" cy="12" r="10"/></svg>
  
  <span class="md-ellipsis">
    
  
    Is It Right for Me?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/community/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-heart-handshake" viewBox="0 0 24 24"><path d="M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762"/></svg>
  
  <span class="md-ellipsis">
    
  
    #ctx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/contributing/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-git-pull-request" viewBox="0 0 24 24"><circle cx="18" cy="18" r="3"/><circle cx="6" cy="6" r="3"/><path d="M13 6h3a2 2 0 0 1 2 2v7M6 9v12"/></svg>
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/getting-started/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-rocket" viewBox="0 0 24 24"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.4 22.4 0 0 1-4 2"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/first-session/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-play" viewBox="0 0 24 24"><path d="M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Your First Session
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/common-workflows/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-repeat" viewBox="0 0 24 24"><path d="m17 2 4 4-4 4"/><path d="M3 11v-1a4 4 0 0 1 4-4h14M7 22l-4-4 4-4"/><path d="M21 13v1a4 4 0 0 1-4 4H3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Common Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/context-files/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-files" viewBox="0 0 24 24"><path d="M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8"/><path d="M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706zM5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1"/></svg>
  
  <span class="md-ellipsis">
    
  
    Context Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/configuration/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-settings" viewBox="0 0 24 24"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/><circle cx="12" cy="12" r="3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/prompting-guide/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-message-circle" viewBox="0 0 24 24"><path d="M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719"/></svg>
  
  <span class="md-ellipsis">
    
  
    Prompting Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../blog/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-newspaper" viewBox="0 0 24 24"><path d="M15 18h-5M18 14h-8M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2"/><rect width="8" height="4" x="10" y="6" rx="1"/></svg>
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Blog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Recipes
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Recipes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/guide-your-agent/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sparkles" viewBox="0 0 24 24"><path d="M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594zM20 2v4M22 4h-4"/><circle cx="4" cy="20" r="2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Guide Your Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/multi-tool-setup/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-wrench" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Setup Across AI Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/external-context/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-folder-symlink" viewBox="0 0 24 24"><path d="M2 9.35V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h7"/><path d="m8 16 3-3-3-3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Keeping Context in a Separate Repo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sessions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sessions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/session-lifecycle/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-play" viewBox="0 0 24 24"><path d="M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"/></svg>
  
  <span class="md-ellipsis">
    
  
    The Complete Session
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/session-ceremonies/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-bookmark" viewBox="0 0 24 24"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Session Ceremonies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/session-archaeology/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-scroll-text" viewBox="0 0 24 24"><path d="M15 12h-5M15 8h-5M19 17V5a2 2 0 0 0-2-2H4"/><path d="M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Browsing and Enriching Past Sessions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/session-reminders/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-bell" viewBox="0 0 24 24"><path d="M10.268 21a2 2 0 0 0 3.464 0M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"/></svg>
  
  <span class="md-ellipsis">
    
  
    Session Reminders
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/session-pause/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-pause" viewBox="0 0 24 24"><rect width="5" height="18" x="14" y="3" rx="1"/><rect width="5" height="18" x="5" y="3" rx="1"/></svg>
  
  <span class="md-ellipsis">
    
  
    Pausing Context Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Knowledge and Tasks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Knowledge and Tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/knowledge-capture/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-brain" viewBox="0 0 24 24"><path d="M12 18V5M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5"/><path d="M17.997 5.125a4 4 0 0 1 2.526 5.77"/><path d="M18 18a4 4 0 0 0 2-7.464"/><path d="M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517"/><path d="M6 18a4 4 0 0 1-2-7.464"/><path d="M6.003 5.125a4 4 0 0 0-2.526 5.77"/></svg>
  
  <span class="md-ellipsis">
    
  
    Persisting Decisions, Learnings, and Conventions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/task-management/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-list-checks" viewBox="0 0 24 24"><path d="M13 5h8M13 12h8M13 19h8M3 17l2 2 4-4M3 7l2 2 4-4"/></svg>
  
  <span class="md-ellipsis">
    
  
    Tracking Work Across Sessions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/import-plans/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-file-input" viewBox="0 0 24 24"><path d="M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1"/><path d="M14 2v5a1 1 0 0 0 1 1h5M2 15h10M9 18l3-3-3-3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Importing Claude Code Plans
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/design-before-coding/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-drafting-compass" viewBox="0 0 24 24"><path d="m12.99 6.74 1.93 3.44M19.136 12a10 10 0 0 1-14.271 0M21 21l-2.16-3.84M3 21l8.02-14.26"/><circle cx="12" cy="5" r="2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Design Before Coding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/scratchpad-with-claude/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sticky-note" viewBox="0 0 24 24"><path d="M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z"/><path d="M15 3v5a1 1 0 0 0 1 1h5"/></svg>
  
  <span class="md-ellipsis">
    
  
    Using the Scratchpad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/scratchpad-sync/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-key-round" viewBox="0 0 24 24"><path d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"/><circle cx="16.5" cy="7.5" r=".5" fill="currentColor"/></svg>
  
  <span class="md-ellipsis">
    
  
    Syncing Scratchpad Notes Across Machines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Hooks and Notifications
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Hooks and Notifications
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/hook-output-patterns/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-megaphone" viewBox="0 0 24 24"><path d="M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"/><path d="M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14M8 6v8"/></svg>
  
  <span class="md-ellipsis">
    
  
    Hook Output Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/customizing-hook-messages/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-message-square-text" viewBox="0 0 24 24"><path d="M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2zM7 11h10M7 15h6M7 7h8"/></svg>
  
  <span class="md-ellipsis">
    
  
    Customizing Hook Messages
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/webhook-notifications/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-bell" viewBox="0 0 24 24"><path d="M10.268 21a2 2 0 0 0 3.464 0M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"/></svg>
  
  <span class="md-ellipsis">
    
  
    Webhook Notifications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/system-hooks-audit/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-shield-check" viewBox="0 0 24 24"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="m9 12 2 2 4-4"/></svg>
  
  <span class="md-ellipsis">
    
  
    Auditing System Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Maintenance
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Maintenance
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/context-health/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-stethoscope" viewBox="0 0 24 24"><path d="M11 2v2M5 2v2M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1"/><path d="M8 15a6 6 0 0 0 12 0v-3"/><circle cx="20" cy="10" r="2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Detecting and Fixing Drift
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/troubleshooting/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-stethoscope" viewBox="0 0 24 24"><path d="M11 2v2M5 2v2M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1"/><path d="M8 15a6 6 0 0 0 12 0v-3"/><circle cx="20" cy="10" r="2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/claude-code-permissions/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-shield" viewBox="0 0 24 24"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Claude Code Permission Hygiene
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/permission-snapshots/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-camera" viewBox="0 0 24 24"><path d="M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z"/><circle cx="12" cy="13" r="3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Permission Snapshots
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/publishing/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-pen-line" viewBox="0 0 24 24"><path d="M13 21h8M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Turning Activity into Content
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Agents and Automation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agents and Automation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/autonomous-loops/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-repeat" viewBox="0 0 24 24"><path d="m17 2 4 4-4 4"/><path d="M3 11v-1a4 4 0 0 1 4-4h14M7 22l-4-4 4-4"/><path d="M21 13v1a4 4 0 0 1-4 4H3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Running an Unattended AI Agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/when-to-use-agent-teams/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-users" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M16 3.128a4 4 0 0 1 0 7.744M22 21v-2a4 4 0 0 0-3-3.87"/><circle cx="9" cy="7" r="4"/></svg>
  
  <span class="md-ellipsis">
    
  
    When to Use a Team of Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/parallel-worktrees/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-git-branch" viewBox="0 0 24 24"><path d="M6 3v12"/><circle cx="18" cy="6" r="3"/><circle cx="6" cy="18" r="3"/><path d="M18 9a9 9 0 0 1-9 9"/></svg>
  
  <span class="md-ellipsis">
    
  
    Parallel Agent Development with Git Worktrees
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../cli/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-terminal" viewBox="0 0 24 24"><path d="M12 19h8M4 17l6-6-6-6"/></svg>
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    CLI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/init-status/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-rocket" viewBox="0 0 24 24"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.4 22.4 0 0 1-4 2"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></svg>
  
  <span class="md-ellipsis">
    
  
    Init and Status
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/context/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-layers" viewBox="0 0 24 24"><path d="M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z"/><path d="M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12"/><path d="M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17"/></svg>
  
  <span class="md-ellipsis">
    
  
    Context Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/recall/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-history" viewBox="0 0 24 24"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5M12 7v5l4 2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Recall and Journal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/tools/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-wrench" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Tools and Utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/config/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-settings-2" viewBox="0 0 24 24"><path d="M14 17H5M19 7h-9"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/doctor/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-stethoscope" viewBox="0 0 24 24"><path d="M11 2v2M5 2v2M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1"/><path d="M8 15a6 6 0 0 0 12 0v-3"/><circle cx="20" cy="10" r="2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Doctor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/system/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-settings" viewBox="0 0 24 24"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/><circle cx="12" cy="12" r="3"/></svg>
  
  <span class="md-ellipsis">
    
  
    System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-book-open" viewBox="0 0 24 24"><path d="M12 7v14M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/design-invariants/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-anchor" viewBox="0 0 24 24"><path d="M12 6v16M19 13l2-1a9 9 0 0 1-18 0l2 1M9 11h6"/><circle cx="12" cy="4" r="2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Invariants
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/skills/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sparkles" viewBox="0 0 24 24"><path d="M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594zM20 2v4M22 4h-4"/><circle cx="4" cy="20" r="2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/comparison/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-git-compare" viewBox="0 0 24 24"><circle cx="18" cy="18" r="3"/><circle cx="6" cy="6" r="3"/><path d="M13 6h3a2 2 0 0 1 2 2v7M11 18H8a2 2 0 0 1-2-2V9"/></svg>
  
  <span class="md-ellipsis">
    
  
    Tool Ecosystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/session-journal/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-book-open" viewBox="0 0 24 24"><path d="M12 7v14M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Session Journal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/scratchpad/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-sticky-note" viewBox="0 0 24 24"><path d="M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z"/><path d="M15 3v5a1 1 0 0 0 1 1h5"/></svg>
  
  <span class="md-ellipsis">
    
  
    Scratchpad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/versions/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-history" viewBox="0 0 24 24"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5M12 7v5l4 2"/></svg>
  
  <span class="md-ellipsis">
    
  
    Version History
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../operations/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-settings" viewBox="0 0 24 24"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/><circle cx="12" cy="12" r="3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Operations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Operations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/migration/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-package-plus" viewBox="0 0 24 24"><path d="M16 16h6M19 13v6M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14M7.5 4.27l9 5.15"/><path d="M3.29 7 12 12l8.71-5M12 22V12"/></svg>
  
  <span class="md-ellipsis">
    
  
    Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/upgrading/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-arrow-up-circle" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="m16 12-4-4-4 4M12 16V8"/></svg>
  
  <span class="md-ellipsis">
    
  
    Upgrade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/integrations/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-plug" viewBox="0 0 24 24"><path d="M12 22v-5M15 8V2M17 8a1 1 0 0 1 1 1v4a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1zM9 8V2"/></svg>
  
  <span class="md-ellipsis">
    
  
    AI Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/autonomous-loop/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-repeat" viewBox="0 0 24 24"><path d="m17 2 4 4-4 4"/><path d="M3 11v-1a4 4 0 0 1 4-4h14M7 22l-4-4 4-4"/><path d="M21 13v1a4 4 0 0 1-4 4H3"/></svg>
  
  <span class="md-ellipsis">
    
  
    Autonomous Loops
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../security/" class="md-nav__link ">
              
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-shield-check" viewBox="0 0 24 24"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="m9 12 2 2 4-4"/></svg>
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/agent-security/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-shield-check" viewBox="0 0 24 24"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="m9 12 2 2 4-4"/></svg>
  
  <span class="md-ellipsis">
    
  
    Securing AI Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/reporting/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-shield" viewBox="0 0 24 24"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Security Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#a-persistence-layer-for-human-ai-cognition" class="md-nav__link">
    <span class="md-ellipsis">
      
        A Persistence Layer for Human-AI Cognition
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A Persistence Layer for Human-AI Cognition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#abstract" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abstract
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Introduction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-the-limits-of-prompt-time-context" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. The Limits of Prompt-Time Context
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. The Limits of Prompt-Time Context">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-non-reproducibility" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Non-Reproducibility
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-opaque-knowledge" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Opaque Knowledge
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-loss-of-intent" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Loss of Intent
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-cognitive-state-a-three-tier-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Cognitive State: A Three-Tier Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Cognitive State: A Three-Tier Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1 Definitions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-separation-of-concerns" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Separation of Concerns
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-design-invariants" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Design Invariants
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Design Invariants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invariant-1-markdown-on-filesystem-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 1: Markdown-on-Filesystem Persistence
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-2-zero-runtime-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 2: Zero Runtime Dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-3-deterministic-context-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 3: Deterministic Context Assembly
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-4-human-authority-over-persistent-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 4: Human Authority Over Persistent State
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-5-local-first-air-gap-capable" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 5: Local-First, Air-Gap Capable
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invariant-6-no-default-telemetry" class="md-nav__link">
    <span class="md-ellipsis">
      
        Invariant 6: No Default Telemetry
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-landscape-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Landscape Analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Landscape Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-primitive-taxonomy" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1 Primitive Taxonomy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-comparison-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2 Comparison Matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-convergent-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3 Convergent Patterns
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-worked-example-architectural-decision-under-two-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Worked Example: Architectural Decision Under Two Models
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Worked Example: Architectural Decision Under Two Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-the-problem" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1 The Problem
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-prompt-time-retrieval-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2 Prompt-Time Retrieval Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-cognitive-state-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3 Cognitive State Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-the-diff-when-policy-changes" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.4 The Diff When Policy Changes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-experience-report-a-system-that-designed-itself" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Experience Report: A System That Designed Itself
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Experience Report: A System That Designed Itself">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-scale-and-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1 Scale and Structure
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72-architectural-reversals" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.2 Architectural Reversals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-compliance-ceiling" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.3 Compliance Ceiling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#74-compounding-returns" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.4 Compounding Returns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#75-scope-and-generalizability" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.5 Scope and Generalizability
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-situating-the-persistence-layer" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Situating the Persistence Layer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-applicability-and-trade-offs" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Applicability and Trade-Offs
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Applicability and Trade-Offs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-when-to-use-this-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1 When to Use This Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-when-not-to-use-this-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2 When Not to Use This Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-incremental-adoption" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3 Incremental Adoption
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-the-curation-cost" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.4 The Curation Cost
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-future-work" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Future Work
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Conclusion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-a-representative-rejection-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Appendix A: Representative Rejection Decisions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


              
              <article class="md-content__inner md-typeset">
                
                  
  
  


<h1 id="context-as-state">Context as State<a class="headerlink" href="#context-as-state" title="Permanent link">&para;</a></h1>
<p><img alt="ctx" src="../images/ctx-banner.png" /></p>
<h2 id="a-persistence-layer-for-human-ai-cognition">A Persistence Layer for Human-AI Cognition<a class="headerlink" href="#a-persistence-layer-for-human-ai-cognition" title="Permanent link">&para;</a></h2>
<p><em>Jose Alekhinne</em> - <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#106;&#111;&#115;&#101;&#64;&#99;&#116;&#120;&#46;&#105;&#115;&#116;">&#106;&#111;&#115;&#101;&#64;&#99;&#116;&#120;&#46;&#105;&#115;&#116;</a></p>
<p><em>February 2026</em></p>
<h3 id="abstract">Abstract<a class="headerlink" href="#abstract" title="Permanent link">&para;</a></h3>
<p>As AI tools evolve from code-completion utilities into reasoning collaborators, 
the knowledge that governs their behavior becomes as important as the code they 
produce; yet, that knowledge is routinely discarded at the end of every session.</p>
<p>AI-assisted development systems assemble context at prompt time using heuristic 
retrieval from mutable sources: recent files, semantic search results, 
session history. These approaches optimize relevance at the moment of generation 
but do not persist the cognitive state that produced decisions. Reasoning is 
not reproducible, intent is lost across sessions, and teams cannot audit the 
knowledge that constrains automated behavior.</p>
<p>This paper argues that context should be treated as deterministic,
version-controlled state rather than as a transient query result. We ground this 
argument in three sources of evidence: a landscape analysis of 17 systems 
spanning AI coding assistants, agent frameworks, and knowledge stores; 
a taxonomy of five primitive categories that reveals irrecoverable architectural 
trade-offs; and an experience report from <a href="https://github.com/ActiveMemory/ctx"><code>ctx</code></a>, 
a persistence layer for AI-assisted development, which developed itself using its 
own persistence model across 389 sessions over 33 days. We define a three-tier 
model for cognitive state: authoritative knowledge, delivery views, and 
ephemeral state. Then we present six design invariants empirically validated 
by 56 independent rejection decisions observed across the analyzed landscape. 
We show that context determinism applies to assembly, not to model output, 
and that the curation cost this model requires is offset by compounding returns 
in reproducibility, auditability, and team cognition.</p>
<hr />
<h2 id="1-introduction">1. Introduction<a class="headerlink" href="#1-introduction" title="Permanent link">&para;</a></h2>
<p>The introduction of large language models into software development has shifted 
the primary interface from code execution to interactive reasoning. In this 
environment, the correctness of an output depends not only on source code but 
on the context supplied to the model: the conventions, decisions, architectural 
constraints, and domain knowledge that bound the space of acceptable responses.</p>
<p>Current systems treat context as a query result assembled at the moment of 
interaction. A developer begins a session; the tool retrieves what it estimates 
to be relevant from chat history, recent files, and vector stores; the model 
generates output conditioned on this transient assembly; the session ends, and 
the context evaporates. The next session begins the cycle again.</p>
<p>This model has improved substantially over the past year. <code>CLAUDE.md</code> files, 
Cursor rules, Copilot's memory system, and tools such as Mem0, Letta, and Kindex 
each address aspects of the persistence problem. Yet across 17 systems we 
analyzed spanning AI coding assistants, agent frameworks, autonomous coding 
agents, and purpose-built knowledge stores, no system provides all five of the 
following properties simultaneously: deterministic context assembly, 
human-readable file-based persistence, token-budgeted delivery, 
zero runtime dependencies, and local-first operation.</p>
<p>This paper does not propose a universal replacement for retrieval-centric 
workflows. It defines a persistence layer (embodied in <code>ctx</code> (<a href="https://ctx.ist">https://ctx.ist</a>)) 
whose advantages emerge under specific operational conditions: when 
reproducibility is a requirement, when knowledge must outlive sessions and 
individuals, when teams require shared cognitive authority, or when offline 
operation is necessary. </p>
<p>The trade-offs (manual curation cost, reduced automatic recall, coarser 
granularity) are intentional and mirror the trade-offs accepted by systems that 
favor reproducibility over convenience, such as reproducible builds and 
immutable infrastructure <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> <sup id="fnref:6"><a class="footnote-ref" href="#fn:6">6</a></sup>.</p>
<p>The contribution is threefold: a three-tier model for cognitive state that 
resolves the ambiguity between authoritative knowledge and ephemeral session 
artifacts; six design invariants empirically grounded in a cross-system 
landscape analysis; and an experience report demonstrating that the model 
produces compounding returns when applied to its own development.</p>
<hr />
<h2 id="2-the-limits-of-prompt-time-context">2. The Limits of Prompt-Time Context<a class="headerlink" href="#2-the-limits-of-prompt-time-context" title="Permanent link">&para;</a></h2>
<p>Prompt-time assembly pipelines typically consist of corpus selection, retrieval,
ranking, and truncation. These pipelines are probabilistic and time-dependent,
producing three failure modes that compound over the lifetime of a project.</p>
<h3 id="21-non-reproducibility">2.1 Non-Reproducibility<a class="headerlink" href="#21-non-reproducibility" title="Permanent link">&para;</a></h3>
<p>If context is derived from mutable sources using heuristic ranking, identical
requests at different times receive different inputs. A developer who asks 
"What is our authentication strategy?" on Tuesday may receive a different 
context window than the same question on Thursday: Not because the strategy 
changed, but because the retrieval heuristic surfaced different fragments.</p>
<p>Reproducibility (the ability to reconstruct the exact inputs that produced a 
given output) is a foundational property of reliable systems. Its loss in 
AI-assisted development mirrors the historical evolution from ad-hoc builds to 
deterministic build systems <sup id="fnref2:1"><a class="footnote-ref" href="#fn:1">1</a></sup> <sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>. The build community learned that when 
outputs depend on implicit state (environment variables, system clocks, 
network-fetched dependencies), debugging becomes archaeology. The same principle 
applies when AI outputs depend on non-deterministic context retrieval.</p>
<h3 id="22-opaque-knowledge">2.2 Opaque Knowledge<a class="headerlink" href="#22-opaque-knowledge" title="Permanent link">&para;</a></h3>
<p>Embedding-based memory increases recall but reduces inspectability. When a 
vector store determines that a code snippet is "similar" to the current query, 
the ranking function is opaque: the developer cannot inspect why that snippet 
was chosen, whether a more relevant artifact was excluded, or whether the 
ranking will remain stable. This prevents deterministic debugging, policy 
auditing, and causal attribution (properties that information retrieval theory 
identifies as fundamental trade-offs of probabilistic ranking) <sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>.</p>
<p>In practice, this opacity manifests as a compliance ceiling. In our experience 
developing a context management system (detailed in Section 7), soft instructions 
(directives that ask an AI agent to read specific files or follow specific 
procedures) achieve approximately 75-85% compliance. The remaining 15-25% 
represents cases where the agent exercises judgment about whether the 
instruction applies, effectively applying a second ranking function on top of 
the explicit directive. When 100% compliance is required, instruction is 
insufficient; the content must be injected directly, removing the agent's option
to skip it.</p>
<h3 id="23-loss-of-intent">2.3 Loss of Intent<a class="headerlink" href="#23-loss-of-intent" title="Permanent link">&para;</a></h3>
<p>Session transcripts record interaction but not cognition. A transcript captures
what was said but not which assumptions were accepted, which alternatives were 
rejected, or which constraints governed the decision. The distinction matters: 
a decision to use PostgreSQL recorded as a one-line note ("Use PostgreSQL") 
teaches a model what was decided; a structured record with context, rationale, 
and consequences teaches it why (and why is what prevents the model from 
unknowingly reversing the decision in a future session) <sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>.</p>
<p>Session transcripts provide history. Cognitive state requires something more: 
the persistent, structured representation of the knowledge required for correct
decision-making.</p>
<hr />
<h2 id="3-cognitive-state-a-three-tier-model">3. Cognitive State: A Three-Tier Model<a class="headerlink" href="#3-cognitive-state-a-three-tier-model" title="Permanent link">&para;</a></h2>
<h3 id="31-definitions">3.1 Definitions<a class="headerlink" href="#31-definitions" title="Permanent link">&para;</a></h3>
<p>We define <strong>cognitive state</strong> as the authoritative, persistent representation of
the knowledge required for correct decision-making within a project. It is
human-authored or human-ratified, versioned, inspectable, and reproducible. It 
is distinct from logs, transcripts, retrieval results, and model-generated 
summaries.</p>
<p>Previous formulations of this idea have treated cognitive state as a monolithic 
concept. In practice, a three-tier model better captures the operational reality:</p>
<p><strong>Tier 1: Authoritative State</strong>: The canonical knowledge that the system treats 
as ground truth. In a concrete implementation, this corresponds to a set of 
human-curated files with defined schemas: a constitution (inviolable rules), 
conventions (code patterns), an architecture document (system structure), 
decision records (choices with rationale), learnings (captured experience), a 
task list (current work), a glossary (domain terminology), and an agent 
playbook (operating instructions). Each file has a single purpose, a defined 
lifecycle, and a distinct update frequency. Authoritative state is 
version-controlled alongside code and reviewed through the same mechanisms 
(diffs, pull requests, blame annotations).</p>
<p><strong>Tier 2: Delivery Views</strong>: Derived representations of authoritative state, 
assembled for consumption by a model. A delivery view is produced by a 
deterministic assembly function that takes the authoritative state, a token 
budget, and an inclusion policy as inputs and produces a context window as 
output. The same authoritative state, budget, and policy must always produce the 
same delivery view. Delivery views are ephemeral (they exist only for the 
duration of a session), but their construction is reproducible.</p>
<p><strong>Tier 3: Ephemeral State</strong>: Session transcripts, scratchpad notes, draft 
journal entries, and other artifacts that exist during or immediately after a 
session but are not authoritative. Ephemeral state is the raw material from 
which authoritative state may be extracted through human review, but it is 
never consumed directly by the assembly function.</p>
<p>This three-tier model resolves confusion present in earlier formulations:
the claim that AI output is a deterministic function of the repository state. 
The corrected claim is that <strong>context selection</strong> is deterministic (the delivery 
view is a function of authoritative state), but <strong>model output</strong> remains 
stochastic, conditioned on the deterministic context. Formally:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>delivery_view = assemble(authoritative_state, budget, policy)
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>output = model(delivery_view)   # stochastic
</span></code></pre></div>
<p>The persistence layer's contribution is making <code>assemble</code> reproducible, not
making <code>model</code> deterministic.</p>
<h3 id="32-separation-of-concerns">3.2 Separation of Concerns<a class="headerlink" href="#32-separation-of-concerns" title="Permanent link">&para;</a></h3>
<p>The decision to separate authoritative state into distinct files with distinct
purposes is not cosmetic. Different types of knowledge have different lifecycles:</p>
<table>
<thead>
<tr>
<th>Knowledge Type</th>
<th>Update Frequency</th>
<th>Read Frequency</th>
<th>Load Priority</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Constitution</td>
<td>Rarely</td>
<td>Every session</td>
<td>Always</td>
<td>"Never commit secrets to git"</td>
</tr>
<tr>
<td>Tasks</td>
<td>Every session</td>
<td>Session start</td>
<td>Always</td>
<td>"Implement token budget CLI flag"</td>
</tr>
<tr>
<td>Conventions</td>
<td>Weekly</td>
<td>Before coding</td>
<td>High</td>
<td>"All errors use structured logging with severity levels"</td>
</tr>
<tr>
<td>Decisions</td>
<td>When decided</td>
<td>When questioning</td>
<td>Medium</td>
<td>"Use PostgreSQL over MySQL (see ADR-003)"</td>
</tr>
<tr>
<td>Learnings</td>
<td>When learned</td>
<td>When stuck</td>
<td>Medium</td>
<td>"Hook scripts &gt;50ms degrade interactive UX"</td>
</tr>
<tr>
<td>Architecture</td>
<td>When changed</td>
<td>When designing</td>
<td>On demand</td>
<td>"Three-layer pipeline: ingest  enrich  assemble"</td>
</tr>
<tr>
<td>Journal</td>
<td>Every session</td>
<td>Rarely</td>
<td>Never auto</td>
<td>"Session 247: Removed dead-end session copy layer"</td>
</tr>
</tbody>
</table>
<p>A monolithic context file would force the assembly function to load everything 
or nothing. Separation enables <strong>progressive disclosure</strong>: the minimum context 
that matters for the current moment, with the option to load more when needed. 
A normal session loads the constitution, tasks, and conventions; a deep 
investigation loads decision history and journal entries from specific dates.</p>
<p>The budget mechanism is the constraint that makes separation valuable. Without a 
budget, the default behavior is to load everything, which destroys the attention 
density that makes loaded context useful. With a budget, the assembly function 
must prioritize ruthlessly: constitution first (always full), then tasks and 
conventions (budget-capped), then decisions and learnings (scored by recency). 
Entries that do not fit receive title-only summaries rather than being silently 
dropped (an application of the "tell me what you don't know" pattern identified 
independently by four systems in our landscape analysis).</p>
<hr />
<h2 id="4-design-invariants">4. Design Invariants<a class="headerlink" href="#4-design-invariants" title="Permanent link">&para;</a></h2>
<p>The following six invariants define the constraints that a cognitive state 
persistence layer must satisfy. They are not axioms chosen a priori; they are 
empirically grounded properties whose violation was independently identified as 
producing complexity costs across the 17 systems we analyzed.</p>
<h3 id="invariant-1-markdown-on-filesystem-persistence">Invariant 1: Markdown-on-Filesystem Persistence<a class="headerlink" href="#invariant-1-markdown-on-filesystem-persistence" title="Permanent link">&para;</a></h3>
<p>Context files must be human-readable, git-diffable, and editable with any text
editor. No database. No binary storage.</p>
<p><em>Validation</em>: 11 independent rejection decisions across the analyzed landscape 
protected this property. Systems that adopted embedded records, binary 
serialization, or knowledge graphs as their core primitive consistently traded 
away the ability for a developer to run <code>cat DECISIONS.md</code> and understand the 
system's knowledge. The inspection cost of opaque storage compounds over the 
lifetime of a project: every debugging session, every audit, every onboarding 
conversation requires specialized tooling to access knowledge that could have 
been a text file.</p>
<h3 id="invariant-2-zero-runtime-dependencies">Invariant 2: Zero Runtime Dependencies<a class="headerlink" href="#invariant-2-zero-runtime-dependencies" title="Permanent link">&para;</a></h3>
<p>The tool must work with no installed runtimes, no running services, and no API
keys for core functionality.</p>
<p><em>Validation</em>: 13 independent rejection decisions protected this property<br />
(the most frequently defended invariant). Systems that required databases 
(PostgreSQL, SQLite, Redis), embedding models, server daemons, container 
runtimes, or cloud APIs for core operation introduced failure modes proportional 
to their dependency count. A persistence layer that depends on infrastructure is 
not a persistence layer; it is a service. Services have uptime requirements, 
version compatibility matrices, and operational costs that simple file 
operations do not.</p>
<h3 id="invariant-3-deterministic-context-assembly">Invariant 3: Deterministic Context Assembly<a class="headerlink" href="#invariant-3-deterministic-context-assembly" title="Permanent link">&para;</a></h3>
<p>The same files plus the same budget must produce the same output. No 
embedding-based retrieval, no LLM-driven selection, no wall-clock-dependent 
scoring in the assembly path.</p>
<p><em>Validation</em>: 6 independent rejection decisions protected this property. 
Non-deterministic assembly (whether from embedding variance, LLM-based selection, 
or time-dependent scoring) destroys the ability to reproduce a context window 
and therefore to diagnose why a model produced a given output. Determinism in 
the assembly path is what makes the persistence layer auditable.</p>
<h3 id="invariant-4-human-authority-over-persistent-state">Invariant 4: Human Authority Over Persistent State<a class="headerlink" href="#invariant-4-human-authority-over-persistent-state" title="Permanent link">&para;</a></h3>
<p>The agent may propose changes to context files but must not unilaterally modify 
them. All persistent changes go through human-reviewable git commits.</p>
<p><em>Validation</em>: 6 independent rejection decisions protected this property. Systems 
that allowed agents to self-modify their memory (writing freeform notes, 
auto-pruning old entries, generating summaries as ground truth) consistently 
produced lower-quality persistent context than systems that enforced human 
review. Structure is a feature, not a limitation: across the landscape, the 
pattern "structured beats freeform" was independently discovered by four 
systems that evolved from freeform LLM summaries to typed schemas with required 
fields.</p>
<h3 id="invariant-5-local-first-air-gap-capable">Invariant 5: Local-First, Air-Gap Capable<a class="headerlink" href="#invariant-5-local-first-air-gap-capable" title="Permanent link">&para;</a></h3>
<p>Core functionality must work offline with no network access. Cloud services may
be used for optional features but never for core context management.</p>
<p><em>Validation</em>: 7 independent rejection decisions protected this property. 
Infrastructure-dependent memory systems cannot operate in classified 
environments, isolated networks, or disaster-recovery scenarios. A 
filesystem-native model continues to function under all conditions where the 
repository is accessible.</p>
<h3 id="invariant-6-no-default-telemetry">Invariant 6: No Default Telemetry<a class="headerlink" href="#invariant-6-no-default-telemetry" title="Permanent link">&para;</a></h3>
<p>Any analytics, if ever added, must be strictly opt-in.</p>
<p><em>Validation</em>: 4 independent rejection decisions protected this property. Default 
telemetry erodes the trust model that a persistence layer depends on. If 
developers must trust the system with their architectural decisions, operational 
learnings, and project constraints, the system cannot simultaneously be reporting 
usage data to external services.</p>
<p>These six invariants collectively define a design space. Each feature proposal 
can be evaluated against them: a feature that violates any invariant is rejected 
regardless of how many other systems implement it. The discipline of constraint 
(refusing to add capabilities that compromise foundational properties) is 
itself an architectural contribution. Across the 17 analyzed systems, 56
patterns were explicitly rejected for violating these invariants. The rejection 
count per invariant (11, 13, 6, 6, 7, 4) provides a rough measure of each 
property's vulnerability to architectural erosion. A representative sample of 
these rejections is provided in Appendix A.<sup id="fnref3:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<hr />
<h2 id="5-landscape-analysis">5. Landscape Analysis<a class="headerlink" href="#5-landscape-analysis" title="Permanent link">&para;</a></h2>
<p>The 17 systems were selected to cover the architectural design space rather than 
to achieve completeness. Each included system satisfies three criteria: it 
represents a distinct architectural primitive for AI-assisted development, it is 
actively maintained or widely referenced, and it provides sufficient public 
documentation or source code for architectural inspection. The goal was to 
ensure that every major category of primitive (document, embedded record, state 
snapshot, event/message, construction/derivation) was represented by multiple 
systems, enabling cross-system pattern detection.</p>
<p>The resulting set spans six categories: AI coding assistants (Continue, 
Sourcegraph/Cody, Aider, Claude Code), AI agent frameworks (CrewAI, AutoGen, 
LangGraph, LlamaIndex, Letta/MemGPT), autonomous coding agents (OpenHands, 
Sweep), session provenance tools (Entire), data versioning systems (Dolt, 
Pachyderm), pipeline/build systems (Dagger), and purpose-built knowledge 
stores (QubicDB, Kindex). Each system was analyzed from its source code and 
documentation, producing 34 individual analysis artifacts (an architectural 
profile and a set of insights per system) that yielded 87 adopt/adapt 
recommendations, 56 explicit rejection decisions, and 52 watch items.</p>
<h3 id="51-primitive-taxonomy">5.1 Primitive Taxonomy<a class="headerlink" href="#51-primitive-taxonomy" title="Permanent link">&para;</a></h3>
<p>Every system in the AI-assisted development landscape operates on a core 
primitive: an atomic unit around which the entire architecture revolves. Our 
analysis of 17 systems reveals five categories of primitives, each making 
irrecoverable trade-offs:</p>
<p><strong>Group A: Document/File Primitives</strong>: Human-readable documents as the primary 
unit. Documents are authored by humans, version-controlled in git, and consumed 
by AI tools. The invariant of this group is that the primitive is always 
human-readable and version-controllable with standard tools. Three systems 
participate in this pattern: the system described in this paper as a pure 
expression, and Continue (via its rules directory) and Claude Code 
(via <code>CLAUDE.md</code> files) as partial participants: both use document-based 
context as an input but organize around different core primitives.</p>
<p><strong>Group B: Embedded Record Primitives</strong>: Vector-embedded records stored with 
numerical embeddings for similarity search, metadata for filtering, and scoring 
mechanisms for ranking. Five systems use this approach 
(LlamaIndex, CrewAI, Letta/MemGPT, QubicDB, Kindex). The invariant is that the 
primitive requires an embedding model or vector database for core operations: 
a dependency that precludes offline and air-gapped use.</p>
<p><strong>Group C: State Snapshot Primitives</strong>: Point-in-time captures of the complete 
system state. The invariant is that any past state can be reconstructed at any 
historical point. Three systems use this approach (LangGraph, Entire, Dolt).</p>
<p><strong>Group D: Event/Message Primitives</strong>: Sequential events or messages forming an 
append-only log with causal relationships. Four systems use this approach 
(OpenHands, AutoGen, Claude Code, Sweep). The invariant is temporal ordering 
and append-only semantics.</p>
<p><strong>Group E: Construction/Derivation Primitives</strong>: Derived or constructed values 
that encode how they were produced. The invariant is that the primitive is a 
function of its inputs; re-executing the same inputs produces the same 
primitive. Three systems use this approach (Dagger, Pachyderm, Aider).</p>
<h3 id="52-comparison-matrix">5.2 Comparison Matrix<a class="headerlink" href="#52-comparison-matrix" title="Permanent link">&para;</a></h3>
<p>The five primitive categories differ along seven dimensions:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Document</th>
<th>Embedded Record</th>
<th>State Snapshot</th>
<th>Event/Message</th>
<th>Construction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Human-readable</td>
<td>Yes</td>
<td>No</td>
<td>Varies</td>
<td>Partially</td>
<td>No</td>
</tr>
<tr>
<td>Version-controllable</td>
<td>Yes</td>
<td>No</td>
<td>Varies</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Queryable by meaning</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>Rewindable</td>
<td>Via git</td>
<td>No</td>
<td>Yes</td>
<td>Yes (replay)</td>
<td>Yes</td>
</tr>
<tr>
<td>Deterministic</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Zero-dependency</td>
<td>Yes</td>
<td>No</td>
<td>Varies</td>
<td>Varies</td>
<td>Varies</td>
</tr>
<tr>
<td>Offline-capable</td>
<td>Yes</td>
<td>No</td>
<td>Varies</td>
<td>Varies</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>The document primitive is the only one that simultaneously satisfies 
human-readability, version-controllability, determinism, zero dependencies, and 
offline capability. This is not because documents are superior in general
(embedded records provide semantic queryability that documents lack) but because 
the combination of all five properties is what the persistence layer requires. 
The choice between primitive categories is not a matter of capability but of 
which properties are considered invariant.</p>
<h3 id="53-convergent-patterns">5.3 Convergent Patterns<a class="headerlink" href="#53-convergent-patterns" title="Permanent link">&para;</a></h3>
<p>Across the 17 analyzed systems, six design patterns were independently 
discovered. These convergent patterns carry extra validation weight because 
they emerged from different problem spaces:</p>
<p><strong>Pattern 1: "Tell me what you don't know"</strong>: When context is incomplete, 
explicitly communicate to the model what information is missing and what 
confidence level the provided context represents. Four systems independently 
converged on this pattern: inserting skip markers, tracking evidence gaps, 
annotating provenance, or naming output quality tiers.</p>
<p><strong>Pattern 2: "Freshness matters"</strong>: Information relevance decreases over time. 
Three systems independently chose exponential decay with different half-lives 
(30 days, 90 days, and LRU ordering). Static priority ordering with no time 
dimension leaves relevant recent knowledge at the same priority as stale 
entries. This pattern is in productive tension with the persistence model's 
emphasis on determinism: the claim is not that time-dependence is irrelevant, 
but that it belongs in the curation step (a human deciding to consolidate or 
archive stale entries) rather than in the assembly function (an algorithm 
silently down-ranking entries based on age).</p>
<p><strong>Pattern 3: "Content-address everything"</strong>: Compute a hash of content at 
creation time for deduplication, cache invalidation, integrity verification, 
and change detection. Five systems independently implement content hashing, 
each discovering it solves different problems <sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup>.</p>
<p><strong>Pattern 4: "Structured beats freeform"</strong>: When capturing knowledge or session 
state, a structured schema with required fields produces more useful data than 
freeform text. Four systems evolved from freeform summaries to typed schemas:
one moving from LLM-generated prose to a structured condenser with explicit 
fields for completed tasks, pending tasks, and files modified.</p>
<p><strong>Pattern 5: "Protocol convergence"</strong>: The Model Context Protocol (MCP) is 
emerging as a standard tool integration layer. Nine of 17 systems support it, 
spanning every category in the analysis. MCP's significance for the persistence 
model is that it provides a transport mechanism for context delivery without 
dictating how context is stored or assembled. This makes the approach compatible 
with both retrieval-centric and persistence-centric architectures.</p>
<p><strong>Pattern 6: "Human-in-the-loop for memory"</strong>: Critical memory decisions should 
involve human judgment. Fully automated memory management produces lower-quality 
persistent context than human-reviewed systems. Four systems independently 
converged on variants of this pattern: ceremony-based consolidation, 
interrupt/resume for human input, confirmation mode for high-risk actions, and 
separated "think fast" vs. "think slow" processing paths.</p>
<p>Pattern 6 directly validates the ceremony model described in this paper. The 
persistence layer requires human curation not because automation is impossible, 
but because the quality of persistent knowledge degrades when the curation step 
is removed. The improvement opportunity is to make curation easier, not to 
automate it away.</p>
<hr />
<h2 id="6-worked-example-architectural-decision-under-two-models">6. Worked Example: Architectural Decision Under Two Models<a class="headerlink" href="#6-worked-example-architectural-decision-under-two-models" title="Permanent link">&para;</a></h2>
<p>We now instantiate the three-tier model in a concrete system  (<code>ctx</code>) and 
illustrate the difference between prompt-time retrieval and cognitive state 
persistence using a real scenario from its development.</p>
<h3 id="61-the-problem">6.1 The Problem<a class="headerlink" href="#61-the-problem" title="Permanent link">&para;</a></h3>
<p>During development, the system accumulated three overlapping storage layers for 
session data: raw transcripts (owned by the AI tool), session copies 
(JSONL copies plus context snapshots), and enriched journal entries 
(Markdown summaries). The middle layer (session copies) was a dead-end write 
sink. An auto-save hook copied transcripts to a directory that nothing read 
from, because the journal pipeline already read directly from the raw 
transcripts. Approximately 15 source files, a shell hook, 20 configuration 
constants, and 30 documentation references supported infrastructure with 
no consumers.</p>
<h3 id="62-prompt-time-retrieval-model">6.2 Prompt-Time Retrieval Model<a class="headerlink" href="#62-prompt-time-retrieval-model" title="Permanent link">&para;</a></h3>
<p>In a retrieval-based system, the decision to remove the middle layer depends on 
whether the retrieval function surfaces the relevant context:</p>
<p>The developer asks: "Should we simplify the session storage?" The retrieval 
system must find and rank the original discussion thread where the three layers 
were designed, the usage statistics showing zero reads from the middle layer, 
the journal pipeline documentation showing it reads from raw transcripts 
directly, and the dependency analysis showing 15 files, a hook, and 30 doc 
references. If any of these fragments are not retrieved (because they are in old 
chat history, because the embedding similarity score is low, or because the 
token budget was consumed by more recent but less relevant context), the model 
may recommend preserving the middle layer, or may not realize it exists.</p>
<p>Six months later, a new team member asks the same question. The retrieval results 
will differ: the original discussion has aged out of recency scoring, the usage 
statistics are no longer in recent history, and the model may re-derive the 
answer or arrive at a different conclusion.</p>
<h3 id="63-cognitive-state-model">6.3 Cognitive State Model<a class="headerlink" href="#63-cognitive-state-model" title="Permanent link">&para;</a></h3>
<p>In the persistence model, the decision is recorded as a structured artifact at 
write time:</p>
<div class="language-markdown highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="gu">## [2026-02-11] Remove .context/sessions/ storage layer</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="gs">**Status**</span>: Accepted
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="gs">**Context**</span>: The session/recall/journal system had three overlapping
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>storage layers. The recall pipeline reads directly from raw transcripts,
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>making .context/sessions/ a dead-end write sink that nothing reads from.
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="gs">**Decision**</span>: Remove .context/sessions/ entirely. Two stores remain:
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>raw transcripts (global, tool-owned) and enriched journal
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>(project-local).
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="gs">**Rationale**</span>: Dead-end write sinks waste code surface, maintenance
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>effort, and user attention. The recall pipeline already proved that
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>reading directly from raw transcripts is sufficient. Context snapshots
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>are redundant with git history.
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="gs">**Consequences**</span>: Deleted internal/cli/session/ (15 files), removed
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>auto-save hook, removed --auto-save from watch, removed pre-compact
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>auto-save, removed /ctx-save skill, updated ~45 documentation files.
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>Four earlier decisions superseded.
</span></code></pre></div>
<p>This artifact is:</p>
<ul>
<li><strong>Deterministically included</strong> in every subsequent session's delivery view
  (budget permitting, with title-only fallback if budget is exceeded)</li>
<li><strong>Human-readable</strong> and reviewable as a diff in the commit that introduced it</li>
<li><strong>Permanent</strong>: it persists in version control regardless of retrieval heuristics</li>
<li><strong>Causally linked</strong>: it explicitly supersedes four earlier decisions, 
  creating an auditable chain</li>
</ul>
<p>When the new team member asks "Why don't we store session copies?" six months 
later, the answer is the same artifact, at the same revision, with the same 
rationale. The reasoning is reconstructible because it was persisted at write 
time, not discovered at query time.</p>
<h3 id="64-the-diff-when-policy-changes">6.4 The Diff When Policy Changes<a class="headerlink" href="#64-the-diff-when-policy-changes" title="Permanent link">&para;</a></h3>
<p>If a future requirement re-introduces session storage (for example, to 
support multi-agent session correlation), the change appears as a diff to the 
decision record:</p>
<div class="language-diff highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="gd">- **Status**: Accepted</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="gi">+ **Status**: Superseded by [2026-08-15] Reintroduce session storage</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="gi">+ for multi-agent correlation</span>
</span></code></pre></div>
<p>The new decision record references the old one, creating a chain of reasoning
visible in <code>git log</code>. In the retrieval model, the old decision would simply be 
ranked lower over time and eventually forgotten.</p>
<hr />
<h2 id="7-experience-report-a-system-that-designed-itself">7. Experience Report: A System That Designed Itself<a class="headerlink" href="#7-experience-report-a-system-that-designed-itself" title="Permanent link">&para;</a></h2>
<p>The persistence model described in this paper was developed and tested by using 
it on its own development. Over 33 days and 389 sessions, the system's context 
files accumulated a detailed record of decisions made, reversed, and 
consolidated: providing quantitative and qualitative evidence for the model's 
properties.</p>
<h3 id="71-scale-and-structure">7.1 Scale and Structure<a class="headerlink" href="#71-scale-and-structure" title="Permanent link">&para;</a></h3>
<p>The development produced the following authoritative state artifacts:</p>
<ul>
<li>8 consolidated decision records covering 24 original decisions spanning 
  context injection architecture, hook design, task management, security, 
  agent autonomy, and webhook systems</li>
<li>18 consolidated learning records covering 75 original observations spanning 
  agent compliance, hook behavior, testing patterns, documentation drift, and 
  tool integration</li>
<li>A constitution with 13 inviolable rules across 4 categories 
  (security, quality, process, context preservation)</li>
<li>389 enriched journal entries providing a complete session-level audit trail</li>
</ul>
<p>The consolidation ratio (24 decisions compressed to 8 records, 75 learnings 
compressed to 18) illustrates the curation cost and its return: authoritative 
state becomes denser and more useful over time as related entries are merged, 
contradictions are resolved, and superseded decisions are marked.</p>
<h3 id="72-architectural-reversals">7.2 Architectural Reversals<a class="headerlink" href="#72-architectural-reversals" title="Permanent link">&para;</a></h3>
<p>Three architectural reversals during development provide evidence that the 
persistence model captures and communicates reasoning effectively:</p>
<p><strong>Reversal 1: The two-tier persistence model</strong>: The original design included a 
middle storage tier for session copies. After 21 days of development, the middle 
tier was identified as a dead-end write sink (described in Section 6). The 
decision record captured the full context, and the removal was executed cleanly: 
15 source files, a shell hook, and 45 documentation references. The pattern of 
a "dead-end write sink" was subsequently observed in 7 of 17 systems in our 
landscape analysis that store raw transcripts alongside structured context.</p>
<p><strong>Reversal 2: The prompt-coach hook</strong>: An early design included a hook that 
analyzed user prompts and offered improvement suggestions. After deployment, 
the hook produced zero useful tips, its output channel was invisible to users, 
and it accumulated orphan temporary files. The hook was removed, and the 
decision record captured the failure mode for future reference.</p>
<p><strong>Reversal 3: The soft-instruction compliance model</strong>: The original context 
injection strategy relied on soft instructions: directives asking the AI agent 
to read specific files. After measuring compliance across multiple sessions, 
we found a consistent 75-85% compliance ceiling. The revised strategy 
injects content directly, bypassing the agent's judgment about whether to 
comply. The learning record captures the ceiling measurement and the rationale 
for the architectural change.</p>
<p>Each reversal was captured as a structured decision record with context, 
rationale, and consequences. In a retrieval-based system, these reversals would 
exist only in chat history, discoverable only if the retrieval function happens 
to surface them. In the persistence model, they are permanent, indexable 
artifacts that inform future decisions.</p>
<h3 id="73-compliance-ceiling">7.3 Compliance Ceiling<a class="headerlink" href="#73-compliance-ceiling" title="Permanent link">&para;</a></h3>
<p>The 75-85% compliance ceiling for soft instructions is the most operationally 
significant finding from the experience report. It means that any context 
management strategy relying on agent compliance with instructions ("read this 
file," "follow this convention," "check this list") has a hard ceiling on 
reliability.</p>
<p>The root cause is structural: the instruction "don't apply judgment" is itself 
evaluated by judgment. When an agent receives a directive to read a file, it 
first assesses whether the directive is relevant to the current task (and that 
assessment is the judgment the directive was trying to prevent).</p>
<p>The architectural response maps directly to the formal model defined in 
Section 3.1. Content requiring 100% compliance is included in 
<code>authoritative_state</code> and injected by the deterministic <code>assemble</code> function, 
bypassing the agent entirely. Content where 80% compliance is acceptable is 
delivered as instructions within the delivery view. The three-tier architecture 
makes this distinction explicit: authoritative state is injected; delivery 
views are assembled deterministically; ephemeral state is available but 
not pushed.</p>
<h3 id="74-compounding-returns">7.4 Compounding Returns<a class="headerlink" href="#74-compounding-returns" title="Permanent link">&para;</a></h3>
<p>Over 33 days, we observed a qualitative shift in the development experience. 
Early sessions (days 1-7) spent significant time re-establishing context:
explaining conventions, re-stating constraints, re-deriving past decisions. 
Later sessions (days 25-33) began with the agent loading curated context and 
immediately operating within established constraints, because the constraints 
were in files rather than in chat history.</p>
<p>This compounding effect (where each session's context curation improves all 
subsequent sessions) is the primary return on the curation investment. The cost 
is borne once (writing a decision record, capturing a learning, updating the 
task list); the benefit is collected on every subsequent session load.</p>
<p>The effect is analogous to compound interest in financial systems: the 
knowledge base grows not linearly with effort but with increasing marginal 
returns as new knowledge interacts with existing context. A learning captured 
on day 5 prevents a mistake on day 12, which avoids a debugging session that 
would have consumed a day 12 session, freeing that session for productive work 
that generates new learnings. The growth is not literally exponential (it is 
bounded by project scope and subject to diminishing returns as the knowledge 
base matures), but within the observed 33-day window, the returns were 
consistently accelerating.</p>
<h3 id="75-scope-and-generalizability">7.5 Scope and Generalizability<a class="headerlink" href="#75-scope-and-generalizability" title="Permanent link">&para;</a></h3>
<p>This experience report is self-referential by design: the system was developed 
using its own persistence model. This circularity strengthens the internal 
validity of the findings (the model was stress-tested under authentic 
conditions) but limits external generalizability. The two-week crossover point 
was observed on a single project of moderate complexity with a small team 
already familiar with the model's assumptions. Whether the same crossover holds 
for larger teams, for codebases with different characteristics, or for teams 
adopting the model without having designed it remains an open empirical 
question. The quantitative claims in this section should be read as 
existence proofs (demonstrating that the model <em>can</em> produce compounding 
returns) rather than as predictions about specific adoption scenarios.</p>
<hr />
<h2 id="8-situating-the-persistence-layer">8. Situating the Persistence Layer<a class="headerlink" href="#8-situating-the-persistence-layer" title="Permanent link">&para;</a></h2>
<p>The persistence layer occupies a specific position in the stack of AI-assisted 
development:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Application Logic
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>AI Interaction / Agents
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Context Retrieval Systems
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>Cognitive State Persistence Layer
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Version Control / Storage
</span></code></pre></div>
<p>Current systems innovate primarily in the retrieval layer (improving how 
context is discovered, ranked, and delivered at query time). The persistence 
layer sits beneath retrieval and above version control. Its role is to maintain 
the authoritative state that retrieval systems may query but do not own. The 
relationship is complementary: retrieval answers "What in the corpus might be 
relevant?"; cognitive state answers "What must be true for this system to 
operate correctly?" A mature system uses both: retrieval for discovery, 
persistence for authority.</p>
<hr />
<h2 id="9-applicability-and-trade-offs">9. Applicability and Trade-Offs<a class="headerlink" href="#9-applicability-and-trade-offs" title="Permanent link">&para;</a></h2>
<h3 id="91-when-to-use-this-model">9.1 When to Use This Model<a class="headerlink" href="#91-when-to-use-this-model" title="Permanent link">&para;</a></h3>
<p>A cognitive state persistence layer is most appropriate when:</p>
<p><strong>Reproducibility is a requirement</strong>: If a system must be able to answer "Why 
did this output occur, and can it be produced again?" then deterministic, 
version-controlled context becomes necessary. This is relevant in regulated 
environments, safety-critical systems, long-lived infrastructure, and 
security-sensitive deployments.</p>
<p><strong>Knowledge must outlive sessions and individuals</strong>: Projects with multi-year 
lifetimes accumulate architectural decisions, domain interpretations, and 
operational policy. If this knowledge is stored only in chat history, issue 
trackers, and institutional memory, it decays. The persistence model converts 
implicit knowledge into branchable, reviewable artifacts.</p>
<p><strong>Teams require shared cognitive authority</strong>: In collaborative environments, 
correctness depends on a stable answer to "What does the system believe to be 
true?" When this answer is derived from retrieval heuristics, authority shifts 
to ranking algorithms. When it is versioned and human-readable, authority 
remains with the team.</p>
<p><strong>Offline or air-gapped operation is required</strong>: Infrastructure-dependent 
memory systems cannot operate in classified environments, isolated networks, 
or disaster-recovery scenarios.</p>
<h3 id="92-when-not-to-use-this-model">9.2 When Not to Use This Model<a class="headerlink" href="#92-when-not-to-use-this-model" title="Permanent link">&para;</a></h3>
<p><strong>Zero-configuration personal workflows</strong>: For short-lived or exploratory tasks, 
the cost of explicit knowledge curation outweighs its benefits. Heuristic 
retrieval is sufficient when correctness is non-critical, outputs are 
disposable, and historical reconstruction is unnecessary.</p>
<p><strong>Maximum automatic recall from large corpora</strong>: Vector retrieval systems 
provide superior performance when the primary task is searching vast, weakly 
structured information spaces. The persistence model assumes that what matters 
can be decided and that this decision is valuable to record.</p>
<p><strong>Fully autonomous agent architectures</strong>: Agent runtimes that generate and 
discard state continuously, optimizing for local goal completion, do not benefit 
from a model that centers human ratification of knowledge.</p>
<h3 id="93-incremental-adoption">9.3 Incremental Adoption<a class="headerlink" href="#93-incremental-adoption" title="Permanent link">&para;</a></h3>
<p>The transition does not require full system replacement. An incremental path:</p>
<p><strong>Step 1: Record decisions as versioned artifacts</strong>: Instead of allowing 
conclusions to remain in discussion threads, persist them in reviewable form 
with context, rationale, and consequences <sup id="fnref2:4"><a class="footnote-ref" href="#fn:4">4</a></sup>. This alone converts ephemeral 
reasoning into the cognitive state.</p>
<p><strong>Step 2: Make inclusion deterministic</strong>: Define explicit assembly rules. 
Retrieval may still exist, but it is no longer authoritative.</p>
<p><strong>Step 3: Move policy into cognitive state</strong>: When system behavior depends on 
stable constraints, encode those constraints as versioned knowledge. Behavior 
becomes reproducible.</p>
<p><strong>Step 4: Optimize assembly, not retrieval</strong>: Once the authoritative layer 
exists, performance improvements come from budgeting, caching, and structural 
refinement rather than from improving ranking heuristics.</p>
<h3 id="94-the-curation-cost">9.4 The Curation Cost<a class="headerlink" href="#94-the-curation-cost" title="Permanent link">&para;</a></h3>
<p>The primary objection to this model is the cost of explicit knowledge curation. 
This cost is real. Writing a structured decision record takes longer than 
letting a chatbot auto-summarize a conversation. Maintaining a glossary requires 
discipline. Consolidating 75 learnings into 18 records requires judgment.</p>
<p>The response is not that the cost is negligible but that it is amortized. 
A decision record written once is loaded hundreds of times. A learning captured 
today prevents repeated mistakes across all future sessions. The curation cost 
is paid once; the benefit compounds.</p>
<p>The experience report provides rough order-of-magnitude numbers. Across 389 
sessions over 33 days, curation activities (writing decision records, 
capturing learnings, updating the task list, consolidating entries) averaged 
approximately 3-5 minutes per session. In early sessions (days 1-7), before 
curated context existed, re-establishing context consumed approximately 10-15 
minutes per session: re-explaining conventions, re-stating architectural 
constraints, re-deriving decisions that had been made but not persisted. By the 
final week (days 25-33), the re-explanation overhead had dropped to near zero: 
the agent loaded curated context and began productive work immediately.</p>
<p>At ~12 sessions per day, the curation cost was roughly 35-60 minutes daily. 
The re-explanation cost in the first week was roughly 120-180 minutes daily. 
By the third week, that cost had fallen to under 15 minutes daily while the 
curation cost remained stable. The crossover (where cumulative curation cost 
was exceeded by cumulative time saved) occurred around day 10. These figures are 
approximate and derived from a single project with a small team already familiar 
with the model; the crossover point will vary with project complexity, 
team size, and curation discipline.</p>
<hr />
<h2 id="10-future-work">10. Future Work<a class="headerlink" href="#10-future-work" title="Permanent link">&para;</a></h2>
<p>Several directions are compatible with the model described here:</p>
<p><strong>Section-level deterministic budgeting</strong>: Current assembly operates at file 
granularity. Section-level budgeting would allow finer-grained control (including 
specific decision records while excluding others within the same file) without 
sacrificing determinism.</p>
<p><strong>Causal links between decisions</strong>: The experience report shows that decisions 
frequently reference earlier decisions (superseding, extending, or qualifying 
them). Formal causal links would enable traversal of the decision graph and 
automatic detection of orphaned or contradictory constraints.</p>
<p><strong>Content-addressed context caches</strong>: Five systems in our landscape analysis 
independently discovered that content hashing provides cache invalidation, 
integrity verification, and change detection. Applying content addressing to the 
assembly output would enable efficient cache reuse when the authoritative state 
has not changed.</p>
<p><strong>Conditional context inclusion</strong>: Five systems independently suggest that 
context entries could carry activation conditions (file patterns, task 
keywords, or explicit triggers) that control whether they are included in a 
given assembly. This would reduce the per-session budget cost of large 
knowledge bases without sacrificing determinism.</p>
<p><strong>Provenance metadata</strong>: Linking context entries to the sessions, decisions, or 
learnings that motivated them would strengthen the audit trail. Optional 
provenance fields on Markdown entries (session identifier, cause reference, 
motivation) would be lightweight and compatible with the existing file-based 
model.</p>
<hr />
<h2 id="11-conclusion">11. Conclusion<a class="headerlink" href="#11-conclusion" title="Permanent link">&para;</a></h2>
<p>AI-assisted development has treated context as a "query result" assembled at the 
moment of interaction, discarded at the session end. This paper identifies a 
complementary layer: the persistence of authoritative cognitive state as 
deterministic, version-controlled artifacts.</p>
<p>The contribution is grounded in three sources of evidence. A landscape analysis 
of 17 systems reveals five categories of primitives and shows that no existing 
system provides the combination of human-readability, determinism, zero 
dependencies, and offline capability that the persistence layer requires. Six 
design invariants, validated by 56 independent rejection decisions, define the 
constraints of the design space. An experience report over 389 sessions and 
33 days demonstrates compounding returns: later sessions start faster, 
decisions are not re-derived, and architectural reversals are captured with 
full context.</p>
<p>The core claim is this: persistent cognitive state enables causal reasoning 
across time. A system built on this model can explain not only <em>what</em> is true, 
but <em>why it became true</em> and <em>when it changed</em>.</p>
<p>When context is the state:</p>
<ul>
<li>Reasoning is reproducible: the same authoritative state, budget, and policy 
  produce the same delivery view.</li>
<li>Knowledge is auditable: decisions are traceable to explicit artifacts with 
  context, rationale, and consequences.</li>
<li>Understanding compounds: each session's curation improves all subsequent 
  sessions.</li>
</ul>
<p>The choice between retrieval-centric workflows and a persistence layer is not a 
matter of capability but of time horizon. Retrieval optimizes for relevance at 
the moment of interaction. Persistence optimizes for the durability of 
understanding across the lifetime of a project.</p>
<hr />
<p> <em>"Gooood... let the deterministic context flow through the repository..."</em><br>
- Kermit the Sidious, probably</p>
<hr />
<h2 id="appendix-a-representative-rejection-decisions">Appendix A: Representative Rejection Decisions<a class="headerlink" href="#appendix-a-representative-rejection-decisions" title="Permanent link">&para;</a></h2>
<p>The 56 rejection decisions referenced in Section 4 were cataloged across all 17 
system analyses, grouped by the invariant they would violate. This appendix 
provides a representative sample (two per invariant) to illustrate the 
methodology.</p>
<p><strong>Invariant 1: Markdown-on-Filesystem (11 rejections)</strong>: CrewAI's vector 
embedding storage was rejected because embeddings are not human-readable, not 
git-diff-friendly, and require external services. Kindex's knowledge graph as 
core primitive was rejected because it requires specialized commands to inspect 
content that could be a text file (<code>kin show &lt;id&gt;</code> vs. <code>cat DECISIONS.md</code>).</p>
<p><strong>Invariant 2: Zero Runtime Dependencies (13 rejections)</strong>: Letta/MemGPT's 
PostgreSQL-backed architecture was rejected because it conflicts with 
local-first, no-database, single-binary operation. Pachyderm's Kubernetes-based 
distributed architecture was rejected as the antithesis of a single-binary 
design for a tool that manages text files.</p>
<p><strong>Invariant 3: Deterministic Assembly (6 rejections)</strong>: LlamaIndex's 
embedding-based retrieval as the primary selection mechanism was rejected because 
it destroys determinism, requires an embedding model, and removes human 
judgment from the selection process. QubicDB's wall-clock-dependent scoring was 
rejected because it directly conflicts with the "same inputs produce same 
output" property.</p>
<p><strong>Invariant 4: Human Authority (6 rejections)</strong>: Letta/MemGPT's agent 
self-modification of memory was rejected as fundamentally opposed to 
human-curated persistence. Claude Code's unstructured auto-memory (where the 
agent writes freeform notes) was rejected because structured files with defined 
schemas produce higher-quality persistent context than unconstrained agent 
output.</p>
<p><strong>Invariant 5: Local-First / Air-Gap Capable (7 rejections)</strong>: Sweep's 
cloud-dependent architecture was rejected as fundamentally incompatible with 
the local-first, offline-capable model. LangGraph's managed cloud deployment 
was rejected because cloud dependencies for core functionality violate 
air-gap capability.</p>
<p><strong>Invariant 6: No Default Telemetry (4 rejections)</strong>: Continue's 
telemetry-by-default (PostHog) was rejected because it contradicts the 
local-first, privacy-respecting trust model. CrewAI's global telemetry on 
import (Scarf tracking pixel) was rejected because it violates user trust and 
breaks air-gap capability.</p>
<p>The remaining 9 rejections did not map to a specific invariant but were 
rejected on other architectural grounds: for example, Aider's 
full-file-content-in-context approach (which defeats token budgeting), 
AutoGen's multi-agent orchestration as core primitive (scope creep), 
and Claude Code's 30-day transcript retention limit 
(institutional knowledge should have no automatic expiration).</p>
<hr />
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Reproducible Builds Project, <em>"Reproducible Builds: Increasing the Integrity of Software Supply Chains"</em>, 2017. <a href="https://reproducible-builds.org/docs/definition/">https://reproducible-builds.org/docs/definition/</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>S. McIntosh et al., <em>"The Impact of Build System Evolution on Software Quality"</em>, ICSE, 2015. <a href="https://doi.org/10.1109/ICSE.2015.70">https://doi.org/10.1109/ICSE.2015.70</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>C. Manning, P. Raghavan, H. Schtze, <em>Introduction to Information Retrieval</em>, Cambridge University Press, 2008. <a href="https://nlp.stanford.edu/IR-book/">https://nlp.stanford.edu/IR-book/</a>&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>M. Nygard, <em>"Documenting Architecture Decisions"</em>, Cognitect Blog, 2011. <a href="https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions">https://cognitect.com/blog/2011/11/15/documenting-architecture-decisions</a>&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>L. Torvalds et al., <em>Git Internals - Git Objects</em> (content-addressed storage concepts). <a href="https://git-scm.com/book/en/v2/Git-Internals-Git-Objects">https://git-scm.com/book/en/v2/Git-Internals-Git-Objects</a>&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>Kief Morris, <em>Infrastructure as Code</em>, O'Reilly, 2016.&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:7">
<p>J. Kreps, <em>"The Log: What every software engineer should know about real-time data's unifying abstraction"</em>, 2013. <a href="https://engineering.linkedin.com/distributed-systems/log">https://engineering.linkedin.com/distributed-systems/log</a>&#160;<a class="footnote-backref" href="#fnref:7" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:8">
<p>P. Hunt et al., <em>"ZooKeeper: Wait-free coordination for Internet-scale systems"</em>, USENIX ATC, 2010. <a href="https://www.usenix.org/legacy/event/atc10/tech/full_papers/Hunt.pdf">https://www.usenix.org/legacy/event/atc10/tech/full_papers/Hunt.pdf</a>&#160;<a class="footnote-backref" href="#fnref:8" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
</ol>
</div>









  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-circle-arrow-up" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="m16 12-4-4-4 4M12 16V8"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Manifesto">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-arrow-left" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7M19 12H5"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Manifesto
              </div>
            </div>
          </a>
        
        
          
          <a href="../home/" class="md-footer__link md-footer__link--next" aria-label="Next: Home">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Home
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="lucide lucide-arrow-right" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026&ndash;present Context contributors.<br>
<a href="https://github.com/ActiveMemory/ctx"><code>ctx</code>'s code</a> is distributed under
<a href="https://github.com/ActiveMemory/ctx/blob/main/LICENSE"><strong>Apache (v2.0)</strong></a>.<br>
The documentation on this website is distributed under
<a href="https://creativecommons.org/licenses/by/4.0/deed.en"><strong>CC-BY-4.0</strong></a>.

    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/ActiveMemory/ctx" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://web.libera.chat/#ctx" target="_blank" rel="noopener" title="web.libera.chat" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M18.1 332.3h412.7v22c0 37.7-29.3 68-65.3 68h-19L259.7 512v-89.7H83.4c-36 0-65.3-30.3-65.3-68zm0-23.6h412.7v-85H18.1zm0-109.4h412.7v-85H18.1zM365.4 0h-282c-36 0-65.3 30.3-65.3 67.7V90h412.7V67.7C430.7 30.3 401.4 0 365.4 0"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://ctx.ist/feed.xml" target="_blank" rel="noopener" title="ctx.ist" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64m0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0m32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      
      <script id="__config" type="application/json">{"annotate":null,"base":"..","features":["announce.dismiss","content.code.annotate","content.code.copy","content.code.select","content.footnote.tooltips","content.tabs.link","content.tooltips","navigation.footer","navigation.indexes","navigation.instant","navigation.instant.prefetch","navigation.path","navigation.sections","navigation.tabs","navigation.tabs.sticky","navigation.top","navigation.tracking","search.highlight"],"search":"../assets/javascripts/workers/search.e2d2d235.min.js","tags":null,"translations":{"clipboard.copied":"Copied to clipboard","clipboard.copy":"Copy to clipboard","search.result.more.one":"1 more on this page","search.result.more.other":"# more on this page","search.result.none":"No matching documents","search.result.one":"1 matching document","search.result.other":"# matching documents","search.result.placeholder":"Type to start searching","search.result.term.missing":"Missing","select.version":"Select version"},"version":null}</script>
    
    
      <script src="../assets/javascripts/bundle.8ffeb9c9.min.js"></script>
      
    
  </body>
</html>